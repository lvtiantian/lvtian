<!DOCTYPE html>
<html>
	<head>
		<title>魅力运城-景点</title>
		<meta charset="utf-8"/> 
		<link rel="stylesheet" href="css/common.css"> 
		<link rel="stylesheet" href="css/spot.css">
	</head>
	<body>
		<div id="Totop">
			<a href="#">To Top</a>
		</div>
		<header id="header">
		</header>
		<section id="section">
			<div id="main">
				<!--<div><img src="img/dayudu_s.jpg" alt=""/></div>-->
				<div><img src="img/shundiling_s.jpg" alt=""/></div>
				<div><img src="img/fenglingdu_s.jpg" alt=""/></div>
				<div><img src="img/yonglegong_s.jpg" alt=""/></div>
				<div><img src="img/guanquelou_s.jpg" alt=""/></div>
				<div><img src="img/lijiazhuangyuan_s.jpg" alt=""/></div>
				<div><img src="img/guandimiao_s.jpg" alt=""/></div>
			</div>
			<div id="content">
				<div class="active">永乐宫 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Ad animi cumque dolorem doloribus ea expedita facilis id nisi perspiciatis placeat ratione sed, tempora ullam ut veritatis vero voluptatem voluptatum? Aliquid?</div>
				<div>鹳雀楼
					鹳雀楼，又名鹳鹊楼，因时有鹳雀栖其上而得名，位于山西省永济市蒲州古城西面的黄河东岸。始建于北周 ，由于楼体壮观，结构奇巧，加之周围风景秀丽，唐宋之际文人学士登楼赏景留下许多不朽诗篇，以王之涣《登鹳雀楼》最富盛名。1997年12月，该楼的复建工程开始，2002年9月26日，新鹳雀楼落成并开始接待游人。新建的鹳雀楼为仿唐形制，四檐三层。
					中文名称 鹳雀楼 外文名称 Guanque tower 地理位置 山西省永济市 气候类型 暖温带半湿润大陆性季风气候 占地面积 2.064平方公里 开放时间 08:00-18:00（夏 季）；08:00-17:30（冬季） 景点级别国家AAAA级旅游景区 门票价格 60元 著名景点鹳雀楼，影壁 始建时间 公元557年至580年（北周） 废毁时间 元代初 复建时间 1997年12月 建议游玩时长 2-3小时 适宜游玩季节 5月--10月
				</div>
				<div>李家庄园 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Amet aperiam dolores earum harum illo iste itaque laborum nam quaerat quia, rem sit velit. Cum error est fugit ipsum perspiciatis. Natus.</div>
				<div>关帝庙

				</div>
				<div>舜帝陵 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Alias, amet at deleniti facere illo illum molestias obcaecati odio, optio quaerat temporibus totam, vel. A dolores laborum non reiciendis sunt voluptates!</div>
				<div>风陵渡 Lorem ipsum dolor sit amet, consectetur adipisicing elit. Commodi consequuntur cumque eum hic iure, laboriosam modi non porro quasi repellendus saepe sed ut vitae! Corporis dolore fugit illum numquam quam.</div>
				<b></b>
			</div>
		</section>
		<footer id="footer"></footer>
		<script src="js/jquery-3.1.0.js"></script>
		<script src="js/common.js"></script>
		<script src="js/spot.js"></script>
		<script>
			var mainleft=$("#main").width()/2-225+'px';
			var othleft2=$("#main").width()*0.30 - 225+'px';
			var othleft4=$("#main").width()*0.75 - 225+'px';
			var othleft5=$("#main").width() - 270+'px';
			var othleft6=$("#main").width() - 90+'px';
			function moveAuto(){
				$("#main div:first-child").animate({
					'left':'-90px',
					'width':'180px',
					'height':'106px',
					'top':'79.5px',
					'opacity':'0'
				},500,function(){
					$("#main").append(this);
					$(this).css("width",'180px').css("height",'106px').css("top","79.5px").css('left',othleft6).css('opacity','0').css('z-index','0').css('display','none');
				});
				$("#main div:nth-child(2)").animate({
					'left':0,
					'width':'270px',
					'height':'159px',
					'top':'53px'
				},500,function(){
					$(this).css("z-index","10");
				});
				$("#main div:nth-child(3)").animate({
					'left':othleft2,
					'width':'360px',
					'height':'212px',
					'top':'26.5px'
				},500,function(){
					$(this).css("z-index","30");
				});
				$("#main div:nth-child(4)").css("z-index","50").animate({
					'left':mainleft,
					'width':'450px',
					'height':'265px',
					'top':0
				},500);
				$("#main div:nth-child(5)").animate({
					'left':othleft4,
					'width':'360px',
					'height':'212px',
					'top':'26.5px'
				},500,function(){
					$(this).css("z-index","30");
				});
				$("#main div:nth-child(6)").css('display','block').animate({
					'left':othleft5,
					'width':'270px',
					'height':'159px',
					'top':'53px',
					'opacity':'1'
				},500,function(){
					$(this).css("z-index","5");
				});
				$("#content .active").animate({
					'opacity':'0'
				},500,function(){
					$(this).removeClass("active");
					$(this).insertBefore("#content b");
				});
				$("#content .active").next('div').animate({
					'opacity':'1'
				},500,function(){
					$(this).addClass("active");
				});
			}
			function moveAutoRight(){
				$("#main div:nth-child(6)").css('display','block').animate({
					'left':0,
					'width':'270px',
					'height':'159px',
					'top':'53px',
					'opacity':'1'
				},500,function(){
					$(this).insertBefore("#main div:first-child");
					$(this).css("z-index","10");
				});
				$("#main div:nth-child(1)").animate({
					'left':othleft2,
					'width':'360px',
					'height':'212px',
					'top':'26.5px'
				},500,function(){
					$(this).css("z-index","30");
				});
				$("#main div:nth-child(2)").css("z-index",'50').animate({
					'left':mainleft,
					'width':'450px',
					'height':'265px',
					'top':0
				},500);
				$("#main div:nth-child(3)").css("z-index",'40').animate({
					'left':othleft4,
					'width':'360px',
					'height':'212px',
					'top':'26.5px'
				},500,function(){
					$(this).css("z-index","30");
				});
				$("#main div:nth-child(4)").animate({
					'left':othleft5,
					'width':'270px',
					'height':'159px',
					'top':'53px'
				},500,function(){
					$(this).css("z-index","5");
				});
				$("#main div:nth-child(5)").animate({
					'left':othleft6,
					'width':'180px',
					'height':'106px',
					'top':'79.5px',
					'opacity':'0'
				},500,function(){
					$(this).css("z-index","5").css('display','none');
				});
				$("#content div:nth-child(6)").insertBefore("#content .active");
				$("#content .active").animate({
					'opacity':'0'
				},500,function(){
					$(this).removeClass("active");
				});
				$("#content .active").prev('div').animate({
					'opacity':'1'
				},500,function(){
					$(this).addClass("active");
				});
			}
			var time=setInterval(moveAuto,3000);
			$("#main div").mouseover(function(){
				clearInterval(time);
				time=null;
			})
			$("#main div").mouseout(function(){
				time=setInterval(moveAuto,3000);
			})
			$("#main div").click(function(e){
				var i=$(this).index()+ 1;
				if(i>3){
					var timer=setInterval(function(){
						moveAuto();
						i--;
						if(i==3){
							clearInterval(timer);
							timer=null;
						}
					},1000);
				}else if(i<3){
					var timer=setInterval(function(){
						moveAutoRight();
						i++;
						console.log(i);
						if(i==3){
							clearInterval(timer);
							timer=null;
						}
					},1000);
				}
			})
		</script>

	</body>
</html>
